<div class="wrapper h-full flex justify-center items-center">
  <tui-island class="px-16 py-8 -translate-y-12">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <p class="tui-island__paragraph" *ngrxLet="userTitle$ as userTitle">
        {{ userTitle || 'Bạn' }} nên sử dụng mật khẩu mạnh mà chưa sử dụng ở đâu
        khác
      </p>

      <div>
        <tui-input-password formControlName="password">
          Mật khẩu cũ
        </tui-input-password>
        <tui-error
          [error]="[] | tuiFieldError | async"
          formControlName="password"
        ></tui-error>
      </div>

      <div>
        <tui-input-password
          [pseudoInvalid]="
            newPassword.valid && (form.errors?.['duplicatedValue'] ?? false)
          "
          formControlName="newPassword"
        >
          Mật khẩu mới
        </tui-input-password>
        <tui-error
          [error]="[] | tuiFieldError | async"
          formControlName="newPassword"
        ></tui-error>
      </div>

      <div>
        <tui-input-password
          [pseudoInvalid]="
            confirmPassword.valid && (form.errors?.['duplicatedValue'] ?? false)
          "
          formControlName="confirmPassword"
        >
          Xác nhận mật khẩu
        </tui-input-password>
        <tui-error
          [error]="[] | tuiFieldError | async"
          formControlName="confirmPassword"
        ></tui-error>
      </div>

      <div>
        <div class="flex justify-center">
          <re-captcha formControlName="token"></re-captcha>
        </div>
        <tui-error
          [error]="[] | tuiFieldError | async"
          formControlName="token"
        ></tui-error>
      </div>

      <div class="flex justify-end">
        <button
          *ngrxLet="status$ as status"
          [disabled]="form.invalid || form.disabled"
          [showLoader]="status === 'loading'"
          tuiButton
          size="m"
          type="submit"
          class="tui-form__button"
        >
          Xác nhận
        </button>
      </div>
    </form>
  </tui-island>
</div>
